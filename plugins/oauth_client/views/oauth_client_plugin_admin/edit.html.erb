<h1><%= _('Oauth Client Settings') %></h1>
<h3><%= _('Edit Provider') %></h3>

<%= form_for @provider, :url => {:action => 'edit'}, :method => 'post' do |f| %>

  <div class="enabled">
    <%= f.check_box :enabled %>
    <%= _('Enabled') %>
  </div>

  <div class="name">
    <span class="label">
      <%= _('Name') %>
    </span>
    <span class="value">
      <%= f.text_field :name %>
    </span>
  </div>

  <div class="strategy">
    <span class="label">
      <%= _('Strategy') %>
    </span>
    <span class="value">
      <%= f.select :strategy, OauthClientPlugin::PROVIDERS %>
    </span>
  </div>

  <div class="image-icon">
    <%= f.fields_for :image_builder, @provider.image do |i| %>
      <%= file_field_or_thumbnail(_('Image:'), @provider.image, i) %><%= _("Max size: %s (.jpg, .gif, .png)")% Image.max_size.to_humanreadable %>
    <% end %>
  </div>

  <div class="client-id">
    <span class="label">
      <%= _('Client Id') %>
    </span>
    <span class="value">
      <%= f.text_field :client_id %>
    </span>
  </div>

  <div class="client-secret">
    <span class="label">
      <%= _('Client Secret') %>
    </span>
    <span class="value">
      <%= f.text_field :client_secret %>
    </span>
  </div>

  <% if File.exists?(File.join(File.dirname(__FILE__), "_#{@provider.strategy}.html.erb")) %>
    <%= render :partial => "#{@provider.strategy}", :locals => {:f => f, :provider => @provider} %>
  <% end %>

  <% button_bar do %>
    <%= submit_button(:save, _('Save'), :cancel => {:action => 'index'}) %>
  <% end %>
<% end %>
